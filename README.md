# Trump Crawler
A crawler that crawls the latest articles about Trump from CNN.com and his latest tweets.

## Objectives:

- Build crawler that crawls the latest articles about Trump from CNN.com and his latest tweets

- Build a simple website that displays the titles of the crawled information

- Create a convenient way of displaying the information after I click on one of the titles

- Do an additional cool thing with the data

## Roadmap

- [x] Project Start (13-04-2019 14:45 GMT)
- [x] Crawl CNN.com (13-04-2019 15:40 GMT)
- [x] Crawl Twitter (13-04-2019 18:55 GMT)
- [x] Build website (13-04-2019 22:25 GMT)
- [x] Post similarity (14-04-2019 4:11 GMT)

## Description

### About the crawlers
- The crawler for CNN was made using News API (newsapi.org). It was coded in Python3.x using 'requests' for querying the API.
- The crawler for Twitter was made using the Twitter API. It was also coded in Python3.x using 'tweepy' for interfacing with the API.
- The APIs were used because that seemed like the most convenient way to get the information. Both Twitter and CNN seem to have restrictions regarding access to their posts.
- The crawlers are in separate scripts (named 'twitter_feed.py' and 'cnn_feed.py'), for higher flexibility as they have different characteristics. Those scripts contain the necessary code to translate the information obtained from the APIs to an HTML format.
- The crawlers are executed when the page is requested by the browser.
- The Python output was incorporated into HTML using PHP.

### About the website design

- The website was designed to have two separate feeds: one for twitter and one for CNN. The posts are separate divs inside a div feed (both generated by the python scripts).
- Embedded timelines from Twitter were not used because I considered this as cheating (and to be consistent with the CNN articles).
- The original posts (both articles and tweets) can be accessed by clicking on the post titles (username/headline) or the 'Original Post' button.
- For a detailed view of the post there is a button ('Further Info') that opens a popup (floating div) with information about the post. This includes retweets, favorites, related links and users for tweets and the start of the article text for articles.
- The popup was made using JavaScript (for showing/hidding, adding elements to it, etc.)
- The great majority of the design was done by hand with CSS. I also felt that using a webpage designer program was cheating. Plus, I already have a layout for my website :)

### Something cool with the data

- I thought it would be cool to see if/how the tweets are related to the articles and vice-versa.
- The Jaccard similarity coeficient was calculated to measure the similarity between two texts.
- Whole words may hide a bit of information as there may be similar words that differ only by small changes or mispellings. These words will be considered as being different and will decrease the similarity coeficient. Tri-grams (3 character strings) seem to work better for this application.
- The calculation and programming logic was done with JavaScript. The coefficient is calculated when a post is selected for detailed view.
- I made it so both tweets and articles can be also compared with themselves.
- The related posts can be seen on the 'Further Info' panel. The title for the section (RELATED TWEETS ARTICLES) can be clicked on to switch from tweets to articles.
- The similarity coefficient is usually low (less than 0.2) even for related posts. Therefore, it is a bit difficult to tell if two of them are related or not based solely on this number. Still, related posts tend to appear as the most related when compared to the others. 
- Some tweets show up as related because they have links with common tags (http) that boost their coefficient. The links should be removed from the text before the calculation of the coefficient, but there was not enough time for that.
- The related ratings (shown in red, orange or green on the FURTHER INFO panel) are purelly arbitrary and were set manually based on observation.
- As the sample size is small (only 50 posts), sometimes there is no related post. I thought about collecting a larger sample size but I also thought that it was cheating (the assignment said to do something cool with the data, which I interpreted as the data I collected).
- In general, the coefficient works well for identifying related posts (when there are any).

### Other notes

- As the free version of the APIs were used, there was a limit regarding the amount of information that could be retrieved. This is specially noticible by the fact that the articles do not have the full article text available. This was noticed too late for a change to be made without affecting the workflow.
- Articles may talk about Trump even if his name is not on the headline/description.
- The codes could be better commented (I tried to write something, but that was not a priority).
- The codes may not follow style guidelines or the ultimate programming practices for the languages they are written in. I worked with 5 languages on less than 48 hours and things got a bit confusing. I am also a make-do full-stack developer, so I did what I could, haha.
- The webpage is not fully reactive. I tried my best to fit it to different screens, but I only had my own computer to test it on.